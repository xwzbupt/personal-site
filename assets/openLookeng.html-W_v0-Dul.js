import{_ as i,c as a,a as e,o as n}from"./app-B_fBko6u.js";const h={};function l(p,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="openlookeng" tabindex="-1"><a class="header-anchor" href="#openlookeng"><span>openLookeng</span></a></h1><div class="hint-container warning"><p class="hint-container-title">注意</p><p>这篇文章并不涉密。</p></div><blockquote><p>申请的是虚拟机，三台机器都是裸的，不能联网，意味着不能使用方便的包管理工具自动下载包，任何包导入都要先下载到本地，再通过xshell传上去。</p><p>我认为，机器不能上外网是可以忍受和理解的，但是我并不能接受创建的机器里面不包含一些基础的包，比如ifconfig等命令并不能正常使用。</p></blockquote><h1 id="一、裸机相关配置" tabindex="-1"><a class="header-anchor" href="#一、裸机相关配置"><span>一、裸机相关配置</span></a></h1><h2 id="java" tabindex="-1"><a class="header-anchor" href="#java"><span>Java</span></a></h2><ol><li><p>将<code>jdk-8u341-linux-x64.tar.gz</code>下载到本地，通过xshell传到Linux的<code>/usr/local</code>路径下。</p></li><li><p>解压压缩包</p></li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jdk-8u341-linux-x64.tar.gz</span></span></code></pre></div><ol start="3"><li>将解压后的jdk移动到计划安装的路径，计划安装在<code>/usr/java</code></li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/jdk1.8.0_341/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/java</span></span></code></pre></div><ol start="4"><li>设置环境变量</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/profile</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 在文末添加以下内容</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> JAVA_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">java</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> JRE_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">\${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JAVA_HOME</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jre</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> LASSPATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.:</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">\${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JAVA_HOME</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">lib</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">\${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JRE_HOME</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">lib</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$CLASSPATH</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> JAVA_PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">\${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JAVA_HOME</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">\${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JRE_HOME</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">\${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JAVA_PATH</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ol start="5"><li>使文件生效</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/profile</span></span></code></pre></div><h1 id="二、安装openlookeng" tabindex="-1"><a class="header-anchor" href="#二、安装openlookeng"><span>二、安装openLookeng</span></a></h1><p>进入<code>https://openlookeng.io/zh/download/</code>下载openLookeng Server并解压。</p><p>进入解压的根目录，创建/etc，在该目录下创建<code>node.properties</code>、<code>jvm.config</code>、<code>config.properties</code>和<code>log.properties</code>。</p><p>节点属性node.properties</p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">node.environment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">openLookeng</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">node.launcher-log-file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">/opt/openLookeng/hetu-server-1.9.0/log/launch.log</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">node.server-log-file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">/opt/openLookeng/hetu-server-1.9.0/log/server.log</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">catalog.config-dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">/opt/openLookeng/hetu-server-1.9.0/etc/catalog</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">node.data-dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">/opt/openLookeng/hetu-server-1.9.0/data</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">plugin.dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">/opt/openLookeng/hetu-server-1.9.0/plugin</span></span></code></pre></div><p>JVM配置jvm.config</p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-server</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-Xmx5G</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-XX:-UseBiasedLocking</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-XX:+UseG1GC</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-XX:</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">G1HeapRegionSize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">32M</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-XX:+ExplicitGCInvokesConcurrent</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-XX:+ExitOnOutOfMemoryError</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-XX:+UseGCOverheadLimit</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">-XX:+HeapDumpOnOutOfMemoryError</span></span></code></pre></div><p>配置属性config.properties</p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">coordinator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">node-scheduler.include-coordinator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">http-server.http.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">8080</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#query.max-memory=4GB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#query.max-total-memory=4GB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#query.max-memory-per-node=4GB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#query.max-total-memory-per-node=4GB</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">discovery-server.enabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">discovery.uri</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">http://localhost:8080</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">hetu.queryeditor-ui.allow-insecure-over-http</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">true</span></span></code></pre></div><p>日志属性log.properties</p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">io.prestosql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">INFO</span></span></code></pre></div><p>目录属性创建在/etc下的/catalog中，&lt;datasouorce&gt;.properties。比如创建一个tpcds数据源的目录属性tpcds.properties</p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connector.name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">tpcds</span></span></code></pre></div><p>启动openLookeng。在server的目录下，执行</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/launcher</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span></span></code></pre></div><h1 id="三、配置数据源" tabindex="-1"><a class="header-anchor" href="#三、配置数据源"><span>三、配置数据源</span></a></h1><h2 id="_3-1-mysql数据源" tabindex="-1"><a class="header-anchor" href="#_3-1-mysql数据源"><span>3.1 MySQL数据源</span></a></h2><div class="hint-container tip"><p class="hint-container-title">MySQL在CentOS的相关安装包和环境</p><p><a href="https://www.aliyundrive.com/s/RrHNv43a57D" target="_blank" rel="noopener noreferrer">https://www.aliyundrive.com/s/RrHNv43a57D</a> 提取码: 35vi</p></div><h3 id="_3-1-1-安装mysql" tabindex="-1"><a class="header-anchor" href="#_3-1-1-安装mysql"><span>3.1.1 安装MySQL</span></a></h3><p>首先安装系统所需的依赖环境。输入指令</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rpm -qa | grep mariadb</span></span></code></pre></div><p>查询出内容后，将自带的环境卸载</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rpm -e --nodeps mariadb-libs-5.5.68-1.el7.x86_64</span></span></code></pre></div><p>查询并卸载系统老版本的MySQL（如果没有输出，则不需要卸载）</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rpm -qa | grep mysql</span></span></code></pre></div><p>安装libaio依赖环境和nettools依赖环境</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rpm -ivh libaio-0.3.109-13.el7.x86_64.rpm</span></span>
<span class="line"><span>rpm -ivh net-tools-2.0-0.25.20131004git.el7.x86_64.rpm</span></span></code></pre></div><p>以此输入以下指令安装MySQL：</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rpm -ivh mysql-community-common-5.7.29-1.el7.x86_64.rpm</span></span>
<span class="line"><span>rpm -ivh mysql-community-libs-5.7.29-1.el7.x86_64.rpm</span></span>
<span class="line"><span>rpm -ivh mysql-community-client-5.7.29-1.el7.x86_64.rpm</span></span>
<span class="line"><span>rpm -ivh mysql-community-server-5.7.29-1.el7.x86_64.rpm --nodeps --force</span></span></code></pre></div><p>输入下面指令启动MySQL服务</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>systemctl start mysqld</span></span></code></pre></div><p>查看MySQL服务是否启动</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>service mysqld status</span></span></code></pre></div><p>先查看MySQL安装时随机生成的密码</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>grep &#39;temporary password&#39; /var/log/mysqld.log</span></span></code></pre></div><p>登录MySQL，输入指令</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>mysql -u root -p</span></span></code></pre></div><p>输入刚开始获取的随机生成的密码，登录MySQL，修改密码</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;Abc123...&#39;;</span></span></code></pre></div><p>然后查看当前默认规则，修改校验密码策略等级，设置密码长度至少为 6，最后设置简单密码。</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>SHOW VARIABLES LIKE &#39;validate_password%&#39;;</span></span>
<span class="line"><span>set global validate_password_policy=LOW;</span></span>
<span class="line"><span>set global validate_password_length=6;</span></span>
<span class="line"><span>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;</span></span></code></pre></div><p>打开MySQL外部连接的权限</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;123456&#39; WITH GRANT OPTION;</span></span>
<span class="line"><span>FLUSH PRIVILEGES;</span></span></code></pre></div><p>设置成功后，输入exit退出当前MySQL账户。</p><p>开放3306端口防火墙，关闭firewall防火墙指令</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#单次关闭</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewalld.service</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#永久关闭</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewalld.service</span></span></code></pre></div><p>使用iptables设置开放端口：<a href="https://top.baidu.com/" target="_blank" rel="noopener noreferrer">设置Iptables开放端口</a></p><p>当前版本的MySQL，在使用group by分组时会存在报错情况，需要设置以下的MySQL模式。</p><p>编辑MySQL配置文件</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>vi /etc/my.cnf</span></span></code></pre></div><p>在文件的最后面添加上一下内容</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span></span></code></pre></div><p>重启MySQL服务</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>systemctl restart mysqld</span></span></code></pre></div><p>在本地windows电脑使用navicat客户端尝试连接服务器的MySQL服务，连接成功。</p><h3 id="_3-1-2-openlookeng连接mysql数据源" tabindex="-1"><a class="header-anchor" href="#_3-1-2-openlookeng连接mysql数据源"><span>3.1.2 openLookeng连接MySQL数据源</span></a></h3><p>在openLookeng的server目录中的/etc/catalog中创建MySQL数据源的properties，命名为mysql.properties，并加入以下内容。</p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connector.name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">mysql</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connection-url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">jdbc:mysql://127.0.0.1:3306</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connection-user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connection-password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">123456</span></span></code></pre></div><p>启动openLookeng的server后，用浏览器访问<code>ip:8080</code>，发现mysql的catalog已加入其中。使用本地windows电脑使用navicat客户端为在MySQL中添加数据库和表，刷新网页，openLookeng加载出了新添加的数据库和表。</p><h2 id="_3-2-hive数据源" tabindex="-1"><a class="header-anchor" href="#_3-2-hive数据源"><span>3.2 Hive数据源</span></a></h2><p>安装Hive数据源。</p><p>在openLookeng的server目录中的/etc/catalog中创建Hive数据源的properties，命名为hive.properties，并加入以下内容。</p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connector.name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">mysql</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connection-url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">jdbc:mysql://127.0.0.1:3306</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connection-user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">connection-password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">123456</span></span></code></pre></div><p>启动openLookeng的server后，用浏览器访问<code>ip:8080</code>，发现Hive的catalog已加入其中。</p><h1 id="四、客户端访问" tabindex="-1"><a class="header-anchor" href="#四、客户端访问"><span>四、客户端访问</span></a></h1><h2 id="_4-1-图形界面客户端" tabindex="-1"><a class="header-anchor" href="#_4-1-图形界面客户端"><span>4.1 图形界面客户端</span></a></h2><h2 id="_4-2-cli客户端" tabindex="-1"><a class="header-anchor" href="#_4-2-cli客户端"><span>4.2 CLI客户端</span></a></h2><h1 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting"><span>TroubleShooting</span></a></h1>`,81)])])}const k=i(h,[["render",l]]),r=JSON.parse('{"path":"/bigdata/openLookeng.html","title":"openLookeng","lang":"zh-CN","frontmatter":{"category":"openLookeng","description":"openLookeng 注意 这篇文章并不涉密。 申请的是虚拟机，三台机器都是裸的，不能联网，意味着不能使用方便的包管理工具自动下载包，任何包导入都要先下载到本地，再通过xshell传上去。 我认为，机器不能上外网是可以忍受和理解的，但是我并不能接受创建的机器里面不包含一些基础的包，比如ifconfig等命令并不能正常使用。 一、裸机相关配置 Java...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"openLookeng\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-06-21T15:03:37.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Weiser\\",\\"url\\":\\"https://github.com/xwzbupt\\"}]}"],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-v2-demo.mrhope.site/bigdata/openLookeng.html"}],["meta",{"property":"og:site_name","content":"Weiser"}],["meta",{"property":"og:title","content":"openLookeng"}],["meta",{"property":"og:description","content":"openLookeng 注意 这篇文章并不涉密。 申请的是虚拟机，三台机器都是裸的，不能联网，意味着不能使用方便的包管理工具自动下载包，任何包导入都要先下载到本地，再通过xshell传上去。 我认为，机器不能上外网是可以忍受和理解的，但是我并不能接受创建的机器里面不包含一些基础的包，比如ifconfig等命令并不能正常使用。 一、裸机相关配置 Java..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-21T15:03:37.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-21T15:03:37.000Z"}]]},"git":{"createdTime":1750518217000,"updatedTime":1750518217000,"contributors":[{"name":"weiser","username":"weiser","email":"1134685563@qq.com","commits":1,"url":"https://github.com/weiser"}]},"readingTime":{"minutes":3.87,"words":1162},"filePathRelative":"bigdata/openLookeng.md","excerpt":"\\n<div class=\\"hint-container warning\\">\\n<p class=\\"hint-container-title\\">注意</p>\\n<p>这篇文章并不涉密。</p>\\n</div>\\n<blockquote>\\n<p>申请的是虚拟机，三台机器都是裸的，不能联网，意味着不能使用方便的包管理工具自动下载包，任何包导入都要先下载到本地，再通过xshell传上去。</p>\\n<p>我认为，机器不能上外网是可以忍受和理解的，但是我并不能接受创建的机器里面不包含一些基础的包，比如ifconfig等命令并不能正常使用。</p>\\n</blockquote>\\n<h1>一、裸机相关配置</h1>\\n<h2>Java</h2>","autoDesc":true}');export{k as comp,r as data};
